(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(21),i=a.n(c),l=(a(72),a(10)),o=a(11),u=a(13),d=a(12),h=a(17),j=a(6),m=a(40),p=a.n(m),b=function(e){localStorage.setItem("token",e)},f=function(){var e=localStorage.getItem("token");if(!e)return!1;var t=e.split(".");return!(t.length<3)&&JSON.parse(atob(t[1]))},O=function(){var e=f();return!!e&&Math.floor(Date.now()/1e3)<e.exp},x=Object(j.f)((function(){return Object(s.jsx)("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation",children:Object(s.jsxs)("div",{className:"container has-text-weight-bold is-size-6","aria-expanded":"true",children:[Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)(h.b,{to:"/",className:"navbar-item",children:"Home"}),Object(s.jsxs)("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarHeader",onClick:function(){var e=document.querySelector(".burger"),t=document.querySelector("#navbarHeader");e.classList.toggle("is-active"),t.classList.toggle("is-active")},children:[Object(s.jsx)("span",{"aria-hidden":"true"}),Object(s.jsx)("span",{"aria-hidden":"true"}),Object(s.jsx)("span",{"aria-hidden":"true"})]})]}),Object(s.jsx)("div",{id:"navbarHeader",className:"navbar-menu",children:Object(s.jsxs)("div",{className:"navbar-end",children:[!O()&&Object(s.jsx)(h.b,{to:"/register",className:"navbar-item",children:"Register  "}),!O()&&Object(s.jsx)(h.b,{to:"/login",className:"navbar-item",children:"Login  "}),O()&&Object(s.jsx)(h.b,{to:"/profile",className:"navbar-item",children:"Profile  "}),O()&&Object(s.jsx)(h.b,{to:"/submit",className:"navbar-item",children:"Submit an Incident  "}),O()&&Object(s.jsx)(h.b,{to:"/comment",className:"navbar-item",children:"Comment "}),O()&&Object(s.jsx)(h.b,{to:"/",onClick:function(){localStorage.removeItem("token")},className:"navbar-item",children:"Log Out"})]})})]})})})),v=a(42),g=a(64),N=a(2),y=a.n(N),k=a(4),C=a(110),w=a(31),S=a(8),D=a.n(S),_=function(){return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}},T=function(e){return D.a.post("/api/auth/register/",e)},I=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.post("/api/auth/login/",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/auth/profile/",_()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/incidents/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/incidents/summary/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.post("/api/incidents/",t,_()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.put("/api/incidents/".concat(a,"/"),t,_()));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.delete("/api/incidents/".concat(t,"/"),_()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/classification/countries/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/classification/attack_classes/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/classification/attack_types/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get("/api/classification/target_classes/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.post("/api/comments/",t,_()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.delete("/api/comments/".concat(t,"/"),_()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function B(){return G.apply(this,arguments)}function G(){return(G=Object(k.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A().then((function(e){return e.data}),(function(e){console.error(e)}));case 2:return t=e.sent,a=J(t),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return K.apply(this,arguments)}function K(){return(K=Object(k.a)(y.a.mark((function e(t){var a,s,n,r,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a="2020-00").endsWith("00")){e.next=9;break}return s=a.substring(0,4),n=t.filter((function(e){return e.yy_mm.startsWith(String(s))})),r=n.reduce((function(e,t){return e+Number(t.monthly_count)}),0),c=n.reduce((function(e,t){return e[t.country]={country:t.country,iso2:t.iso2,iso3:t.iso3,percentage:(t.country in e?Number(e[t.country].percentage):0)+Number(t.monthly_count)/r},e}),[]),e.abrupt("return",Object.values(c));case 9:return i=t.filter((function(e){return e.yy_mm.startsWith(String(a))})),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=Object(C.a)().domain([.001,.04]).range(["#7fcdbb","#081d58"]),Y=function(e){var t=e.setTooltipContent,a=Object(n.useState)([]),r=Object(v.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)(Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)}))),[]),Object(s.jsxs)(w.ComposableMap,{"data-tip":"",projectionConfig:{rotate:[-10,0,0],scale:145},children:[Object(s.jsx)(w.Sphere,{stroke:"#636363",strokeWidth:.4}),Object(s.jsx)(w.Graticule,{stroke:"#636363",strokeWidth:.4}),c.length>0&&Object(s.jsx)(w.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(e){return e.geographies.map((function(e){var a=c.find((function(t){return t.iso3===e.properties.ISO_A3}));return Object(s.jsx)(w.Geography,{geography:e,onMouseEnter:function(){var s,n=e.properties,r=n.NAME,c=n.POP_EST;a&&t("".concat(r," \u2014 pop: ").concat((s=c,s>1e9?Math.round(s/1e8)/10+"Bn":s>1e6?Math.round(s/1e5)/10+"M":Math.round(s/100)/10+"K"),", %_of_incidents: ").concat(Number((100*a.percentage).toFixed(1))))},onMouseLeave:function(){t("")},fill:a?V(a.percentage):"#dce6d8",style:a?{hover:{fill:"#d8d843",outline:"#FFFFFF"}}:{hover:{fill:"#4c4c4c",outline:"FFFFFF"}}},e.rsmKey)}))}})]})},$=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],r=t[1];return Object(s.jsxs)("div",{id:"mapChart",className:"container",children:[Object(s.jsx)(Y,{setTooltipContent:r}),Object(s.jsx)(g.a,{className:"tooltip",multiline:!0,children:a})]})},Q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{id:"mapChartTitle",className:"container has-text-centered title is-2",children:["Cyber Incidents - percentage of reported incidents per country in 2020",Object(s.jsx)($,{})]})})}}]),a}(r.a.Component),X={background:"#688677",text:"#000"},Z=function(e){return m.notify.show(e,"custom",3e3,X)},ee=(a(35),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={formData:{text:""}},e.handleChange=function(t){var a={text:t.target.value};e.setState({formData:a})},e.handleSubmit=function(){var t=Object(k.a)(y.a.mark((function t(a){var s,n,r,c,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,s=e.state.formData,t.next=5,H(s);case 5:e.props.history.push("/profile"),t.next=11;break;case 8:for(t.prev=8,t.t0=t.catch(1),n=0,r=Object.keys(t.t0.response.data);n<r.length;n++)c=r[n],i=String(t.t0.response.data[c]),Z(i);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){if(!this.state.formData)return Object(s.jsx)("div",{children:"Loading..."});var e=this.state.formData.comment;return Object(s.jsx)("section",{className:"section",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"columns",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter box",children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Comment"}),Object(s.jsx)("p",{className:"control",children:Object(s.jsx)("textarea",{className:"textarea",type:"Textarea",placeholder:"Please leave a comment ..",name:"comment",value:e,onChange:this.handleChange})})]}),Object(s.jsx)("div",{className:"field",children:Object(s.jsx)("button",{type:"submit",className:"button is-fullwidth is-warning",children:"Post your Comment"})})]})})})})}}]),a}(r.a.Component)),te=a(19),ae=a(5),se=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={formData:{username:"",email:"",firstName:"",lastName:"",password:"",passwordConfirmation:""},errors:{}},e.handleChange=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},Object(te.a)({},t.target.name,t.target.value)),s=Object(ae.a)(Object(ae.a)({},e.state.errors),{},Object(te.a)({},t.target.name,""));e.setState({formData:a,errors:s})},e.handleSubmit=function(){var t=Object(k.a)(y.a.mark((function t(a){var s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=Object(ae.a)({first_name:e.state.formData.firstName,last_name:e.state.formData.lastName,password_confirmation:e.state.formData.passwordConfirmation},e.state.formData),t.prev=2,t.next=5,T(s);case 5:e.props.history.push("/login"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),Z("Please enter details for every field. (Do the passwords match?"),e.setState({errors:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.formData,t=e.username,a=e.email,n=e.firstName,r=e.lastName,c=e.password,i=e.passwordConfirmation;return Object(s.jsx)("section",{className:"section",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"columns",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter box",children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Username"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Username",name:"username",value:t,onChange:this.handleChange})}),this.state.errors.username&&Object(s.jsx)("p",{className:"help is-danger",children:this.state.errors.username})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Email"}),Object(s.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(s.jsx)("input",{className:"input ".concat(this.state.errors.email?"is-danger":""),type:"email",placeholder:"Email",name:"email",value:a,onChange:this.handleChange}),Object(s.jsx)("span",{className:"icon is-small is-left",children:Object(s.jsx)("i",{className:"fas fa-envelope"})}),Object(s.jsx)("span",{className:"icon is-small is-right",children:Object(s.jsx)("i",{className:"fas fa-check"})})]}),this.state.errors.email&&Object(s.jsx)("p",{className:"help is-danger",children:this.state.errors.email})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"First Name"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input ".concat(this.state.errors.firstName?"is-danger":""),placeholder:"First Name",name:"firstName",value:n,onChange:this.handleChange})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Last Name"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input ".concat(this.state.errors.lastName?"is-danger":""),placeholder:"Last Name",name:"lastName",value:r,onChange:this.handleChange})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Password"}),Object(s.jsxs)("p",{className:"control has-icons-left",children:[Object(s.jsx)("input",{type:"password",className:"input ".concat(this.state.errors.password?"is-danger":""),placeholder:"Password",name:"password",value:c,onChange:this.handleChange}),Object(s.jsx)("span",{className:"icon is-small is-left is-primary",children:Object(s.jsx)("i",{className:"fas fa-lock"})})]}),this.state.errors.password&&Object(s.jsx)("p",{className:"help is-danger",children:this.state.errors.password})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Password Confirmation"}),Object(s.jsxs)("p",{className:"control has-icons-left",children:[Object(s.jsx)("input",{type:"password",className:"input ".concat(this.state.errors.passwordConfirmation?"is-danger":""),placeholder:"Password Confirmation",name:"passwordConfirmation",value:i,onChange:this.handleChange}),Object(s.jsx)("span",{className:"icon is-small is-left is-primary",children:Object(s.jsx)("i",{className:"fas fa-lock"})})]})]}),Object(s.jsx)("div",{className:"field",children:Object(s.jsx)("button",{type:"submit",className:"button is-fullwidth is-warning",children:"Register"})})]})})})})}}]),a}(r.a.Component),ne=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={formData:{email:"",password:""}},e.handleChange=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},Object(te.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(){var t=Object(k.a)(y.a.mark((function t(a){var s,n,r,c,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,I(e.state.formData);case 4:s=t.sent,b(s.data.token),e.props.history.push("/profile"),t.next=12;break;case 9:for(t.prev=9,t.t0=t.catch(1),n=0,r=Object.keys(t.t0.response.data);n<r.length;n++)c=r[n],i=t.t0.response.data[c],Z(i);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state.formData,t=e.email,a=e.password;return Object(s.jsx)("section",{className:"section",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"columns",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter box",children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Email"}),Object(s.jsxs)("p",{className:"control has-icons-left has-icons-right",children:[Object(s.jsx)("input",{type:"email",className:"input",placeholder:"Email",name:"email",value:t,onChange:this.handleChange}),Object(s.jsx)("span",{className:"icon is-small is-left",children:Object(s.jsx)("i",{className:"fas fa-envelope"})}),Object(s.jsx)("span",{className:"icon is-small is-right",children:Object(s.jsx)("i",{className:"fas fa-check"})})]})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Password"}),Object(s.jsxs)("p",{className:"control has-icons-left",children:[Object(s.jsx)("input",{type:"password",className:"input",placeholder:"Password",name:"password",value:a,onChange:this.handleChange}),Object(s.jsx)("span",{className:"icon is-small is-left is-primary",children:Object(s.jsx)("i",{className:"fas fa-lock"})})]})]}),Object(s.jsx)("div",{className:"field",children:Object(s.jsx)("button",{type:"submit",className:"button is-fullwidth is-warning",children:"Login"})})]})})})})}}]),a}(r.a.Component),re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={incidents:null,comments:null,delete:!1},e.handleDeleteIncident=function(){var t=Object(k.a)(y.a.mark((function t(a){var s,n,r,c,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(a);case 3:return t.next=5,M();case 5:s=t.sent,Z("Deleted incident!"),e.setState({incidents:s.data.filed_incident}),t.next=13;break;case 10:for(t.prev=10,t.t0=t.catch(0),n=0,r=Object.keys(t.t0.response.data);n<r.length;n++)c=r[n],i=String(t.t0.response.data[c]),Z(i);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDeleteComment=function(){var t=Object(k.a)(y.a.mark((function t(a){var s,n,r,c,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(a);case 3:return t.next=5,M();case 5:s=t.sent,Z("Deleted comment!"),e.setState({comments:s.data.posted_comments}),t.next=13;break;case 10:for(t.prev=10,t.t0=t.catch(0),n=0,r=Object.keys(t.t0.response.data);n<r.length;n++)c=r[n],i=String(t.t0.response.data[c]),Z(i);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,this.setState({incidents:t.data.filed_incident,comments:t.data.posted_comments});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.incidents&&this.state.comments?Object(s.jsx)("section",{className:"section",children:Object(s.jsxs)("div",{className:"card container flex-center",children:[Object(s.jsxs)("div",{className:"card-header",children:[Object(s.jsxs)("p",{className:"subtitle container has-text-centered label",children:[Object(s.jsx)("br",{}),"Your Profile - details of incidents and comments you have added."]}),Object(s.jsx)("br",{})]}),Object(s.jsx)("div",{className:"card-content",children:Object(s.jsx)("div",{className:"field is-horizontal",children:Object(s.jsxs)("div",{className:"container",children:[0!==this.state.incidents.length?Object(s.jsx)("p",{className:"content is-warning is-bold",children:"Incidents Reported:"}):Object(s.jsx)("i",{className:"content is-warning is-bold",children:"No incidents reported by you, submit an incident via the menu link."}),Object(s.jsx)("div",{className:"content columns is-multiline",children:this.state.incidents.map((function(t){return Object(s.jsxs)("div",{className:"column is-full",children:["Date: ",String(t.date).substr(0,10)," Description: ",t.description,Object(s.jsxs)("div",{className:"tags",children:[Object(s.jsx)(h.b,{to:"/submit/".concat(t.id),children:Object(s.jsx)("span",{className:"tag",children:"edit"})}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"#",children:Object(s.jsx)("span",{onClick:function(){return e.handleDeleteIncident(t.id)},className:"tag",children:"delete x"})})})]})]},t.id)}))})]})})}),Object(s.jsx)("div",{className:"card-content",children:Object(s.jsx)("div",{className:"field is-horizontal",children:Object(s.jsxs)("div",{className:"container",children:[0!==this.state.comments.length?Object(s.jsx)("p",{className:"content is-warning is-bold",children:"Comments posted:"}):Object(s.jsx)("i",{className:"content is-warning is-bold",children:"No comments posted."}),Object(s.jsx)("div",{className:"content columns is-multiline",children:this.state.comments.map((function(t){return Object(s.jsxs)("div",{className:"column is-full",children:["Date: ",String(t.created_at).substr(0,10),"  Text: ",t.text,Object(s.jsx)("div",{className:"tags",children:Object(s.jsx)("div",{children:Object(s.jsx)("a",{href:"#",children:Object(s.jsx)("span",{onClick:function(){return e.handleDeleteComment(t.id)},className:"tag",children:"delete x"})})})})]},t.id)}))}),Object(s.jsx)("br",{})]})})})]})}):Object(s.jsx)("div",{children:Object(s.jsx)("span",{className:"icon has-text-info",children:Object(s.jsx)("span",{className:"fa-stack",children:Object(s.jsx)("i",{className:"fas fa-spinner fa-pulse is-centered",children:" "})})})})}}]),a}(r.a.Component),ce=a(33),ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={formData:{owner:0,date:"",author:"",target:"",description:"",recordsLost:0,monetaryCost:0,link1:"",link2:"",tag:"",vetted:!1,countries:[],attackClasses:[],attackTypes:[],targetClasses:[]},classification:{countryIndex:[],attackClassIndex:[],attackTypeIndex:[],targetClassesIndex:[]},profile:{isSuperUser:!1},errors:{}},e.handleChange=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},Object(te.a)({},t.target.name,t.target.value)),s=Object(ae.a)(Object(ae.a)({},e.state.errors),{},Object(te.a)({},t.target.name,""));e.setState({formData:a,errors:s})},e.handleMultiSelectChangeCountries=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},{countries:t});e.setState({formData:a})},e.handleMultiSelectChangeAttackClasses=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},{attackClasses:t});e.setState({formData:a})},e.handleMultiSelectChangeAttackTypes=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},{attackTypes:t});e.setState({formData:a})},e.handleMultiSelectChangeTargetClasses=function(t){var a=Object(ae.a)(Object(ae.a)({},e.state.formData),{},{targetClasses:t});e.setState({formData:a})},e.handleSubmit=function(){var t=Object(k.a)(y.a.mark((function t(a){var s,n,r,c,i,l,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=Object(ae.a)({},e.state.formData),delete(n=Object(ae.a)(Object(ae.a)({},s),{},{records_lost:Number(s.recordsLost),monetary_cost:Number(s.monetaryCost),owner:s.owner.id,countries:s.countries.map((function(e){return e.value})),attack_classes:s.attackClasses.map((function(e){return e.value})),attack_types:s.attackTypes.map((function(e){return e.value})),target_classes:s.targetClasses.map((function(e){return e.value}))})).recordsLost,delete n.monetaryCost,delete n.attackClasses,delete n.attackTypes,delete n.targetClasses,t.prev=8,!e.props.match.params.id){t.next=15;break}return r=e.props.match.params.id,t.next=13,P(n,r);case 13:t.next=17;break;case 15:return t.next=17,F(n);case 17:e.props.history.push("/profile"),t.next=24;break;case 20:for(t.prev=20,t.t0=t.catch(8),c=0,i=Object.keys(t.t0.response.data);c<i.length;c++)l=i[c],o=String(t.t0.response.data[l]),Z(o);e.setState({errors:t.t0.response.data});case 24:case"end":return t.stop()}}),t,null,[[8,20]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(y.a.mark((function e(){var t,a,s,n,r,c,i,l,o,u,d,h,j,m,p;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:return t=e.sent,e.next=6,U();case 6:return a=e.sent,e.next=9,z();case 9:return s=e.sent,e.next=12,W();case 12:if(n=e.sent,r=Object(ae.a)(Object(ae.a)({},this.state.classification),{},{countryIndex:t.data,attackClassIndex:a.data,attackTypeIndex:s.data,targetClassesIndex:n.data}),this.setState({classification:r}),!this.props.match.params.id){e.next=29;break}return c=this.props.match.params.id,e.next=19,L(c);case 19:i=e.sent,l=i.data,Object.keys(l).forEach((function(e){if(null===l[e])switch(!0){case"author"===e||"target"===e||"link2"===e||"tag"===e:l[e]="";break;case"records_lost"===e||"monetary_cost"===e:l[e]=0;break;case"countries"===e||"attack_classes"===e||"attack_types"===e||"target_classes"===e:l[e]=[];break;default:l[e]=""}})),delete(o=Object(ae.a)(Object(ae.a)({},l),{},{recordsLost:l.records_lost,monetaryCost:l.monetary_cost,countries:l.countries.map((function(e){return{value:e.id,label:e.name}})),attackClasses:l.attack_classes.map((function(e){return{value:e.id,label:e.attack_class}})),attackTypes:l.attack_types.map((function(e){return{value:e.id,label:e.attack_type}})),targetClasses:l.target_classes.map((function(e){return{value:e.id,label:e.target}}))})).records_lost,delete o.monetary_cost,delete o.attack_classes,delete o.attack_types,delete o.target_classes,this.setState({formData:o});case 29:return e.next=31,M();case 31:u=e.sent,d={isSuperUser:u.data.is_superuser},this.setState({profile:d}),e.next=39;break;case 36:for(e.prev=36,e.t0=e.catch(0),h=0,j=Object.keys(e.t0.response);h<j.length;h++)m=j[h],p=String(e.t0.response[m]),Z(p);case 39:case"end":return e.stop()}}),e,this,[[0,36]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.profile||!this.state.classification)return Object(s.jsx)("div",{children:"Loading..."});var e=this.state.formData,t=e.date,a=e.author,n=e.target,r=e.description,c=e.recordsLost,i=e.monetaryCost,l=e.link1,o=e.link2,u=e.tag,d=e.vetted,h=e.countries,j=e.attackClasses,m=e.attackTypes,p=e.targetClasses;return Object(s.jsx)("section",{className:"section",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"columns",children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter box",children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Date"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{type:"Date",className:"input ".concat(this.state.errors.date?"is-danger":""),placeholder:"25/10/2020",name:"date",value:t,onChange:this.handleChange})}),this.state.errors.date&&Object(s.jsx)("p",{className:"help is-danger",children:this.state.errors.date})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Author of attack"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input",placeholder:"Author",name:"author",value:a,onChange:this.handleChange})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Target/s"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input",placeholder:"Target/s",name:"target",value:n,onChange:this.handleChange})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Description"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("textarea",{className:"textarea ".concat(this.state.errors.description?"is-danger":""),placeholder:"Description",name:"description",value:r,onChange:this.handleChange})}),this.state.errors.description&&Object(s.jsx)("p",{className:"help is-danger",children:this.state.errors.description})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Records lost (1000s)"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input",placeholder:"0",name:"recordsLost",type:"number",value:c,onChange:this.handleChange})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Monetary Cost (1000US$)"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input",placeholder:"0",name:"monetaryCost",type:"number",value:i,onChange:this.handleChange})})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Link Source - one"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input ".concat(this.state.errors.link1?"is-danger":""),placeholder:"Link Source",name:"link1",value:l,onChange:this.handleChange})}),this.state.errors.link1&&Object(s.jsx)("p",{className:"help is-danger",children:this.state.errors.link1})]}),"        ",Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Link Source - two"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input",placeholder:"Link Source",name:"link2",value:o,onChange:this.handleChange})})]}),"        ",Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Tag/s"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{className:"input",placeholder:"Tag/s",name:"tag",value:u,onChange:this.handleChange})})]}),this.state.profile.isSuperUser&&Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Vetted (by designated users)"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("label",{className:"checkbox",children:Object(s.jsx)("input",{type:"checkbox",value:d,onChange:this.handleChange})})})]}),Object(s.jsxs)("div",{className:"select is-multiple",children:[Object(s.jsx)("label",{className:"label",children:"Country"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)(ce.a,{options:this.state.classification.countryIndex.map((function(e){return{value:e.id,label:e.name}})),isMulti:!0,placeholder:"Select one or more",name:"countries",value:h,onChange:this.handleMultiSelectChangeCountries})})]}),Object(s.jsxs)("div",{className:"select is-multiple",children:[Object(s.jsx)("label",{className:"label",children:"Attack Class"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)(ce.a,{options:this.state.classification.attackClassIndex.map((function(e){return{value:e.id,label:e.attack_class}})),isMulti:!0,placeholder:"Select one or more",name:"attackClasses",value:j,onChange:this.handleMultiSelectChangeAttackClasses})})]}),"             ",Object(s.jsxs)("div",{className:"select is-multiple",children:[Object(s.jsx)("label",{className:"label",children:"Attack Types"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)(ce.a,{options:this.state.classification.attackTypeIndex.map((function(e){return{value:e.id,label:e.attack_type}})),isMulti:!0,placeholder:"Select one or more",name:"attackTypes",value:m,onChange:this.handleMultiSelectChangeAttackTypes})})]}),"             ",Object(s.jsxs)("div",{className:"select is-multiple",children:[Object(s.jsx)("label",{className:"label",children:"Target Classes"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)(ce.a,{options:this.state.classification.targetClassesIndex.map((function(e){return{value:e.id,label:e.target}})),isMulti:!0,placeholder:"Select one or more",name:"targetClasses",value:p,onChange:this.handleMultiSelectChangeTargetClasses})})]}),Object(s.jsx)("div",{className:"field",children:Object(s.jsx)("button",{type:"submit",className:"button is-fullwidth is-warning",children:"Submit Incident"})})]})})})})}}]),a}(r.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(s.jsxs)(h.a,{children:[Object(s.jsx)(p.a,{}),Object(s.jsx)(x,{}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:"/",component:Q}),Object(s.jsx)(j.a,{path:"/register",component:se}),Object(s.jsx)(j.a,{path:"/login",component:ne}),Object(s.jsx)(j.a,{path:"/profile",component:re}),Object(s.jsx)(j.a,{path:"/submit/:id",component:ie}),Object(s.jsx)(j.a,{path:"/submit",component:ie}),Object(s.jsx)(j.a,{path:"/comment",component:ee})]})]})}}]),a}(r.a.Component);i.a.render(Object(s.jsx)(le,{}),document.getElementById("root"))},72:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.70123159.chunk.js.map